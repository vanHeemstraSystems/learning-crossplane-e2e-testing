apiVersion: apiextensions.crossplane.io/v1
kind: CompositeResourceDefinition
metadata:
name: xstorageaccounts.storage.example.io
spec:
group: storage.example.io
names:
kind: XStorageAccount
plural: xstorageaccounts
claimNames:
kind: StorageAccount
plural: storageaccounts
versions:

- name: v1alpha1
  served: true
  referenceable: true
  schema:
  openAPIV3Schema:
  type: object
  properties:
  spec:
  type: object
  properties:
  parameters:
  type: object
  properties:
  location:
  type: string
  description: Azure region for the storage account
  default: westeurope
  accountTier:
  type: string
  description: Storage account tier (Standard or Premium)
  enum: [Standard, Premium]
  default: Standard
  replicationType:
  type: string
  description: Replication type
  enum: [LRS, GRS, RAGRS, ZRS, GZRS, RAGZRS]
  default: LRS
  resourceGroupName:
  type: string
  description: Azure resource group name
  tags:
  type: object
  description: Additional tags for the storage account
  additionalProperties:
  type: string
  required:
  - resourceGroupName
  required:
  - parameters
  status:
  type: object
  properties:
  storageAccountName:
  type: string
  description: The name of the created storage account
  primaryEndpoint:
  type: string
  description: Primary blob endpoint URL
  resourceGroupName:
  type: string
  description: The resource group containing the storage account
